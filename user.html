<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>User Profile</title>
  <link rel="stylesheet" href="style.css">
  <link rel="icon" href="data:,">
</head>
<body>
  <div class="container">
    <h1>User Profile</h1>
    <div id="userProfile">
      <p><strong>Name:</strong> <span id="userName"></span></p>
      <p><strong>Contact:</strong> <span id="userContact"></span></p>
      <p><strong>Car Number:</strong> <span id="userCarNumber"></span></p>
      <p><strong>Wallet Balance:</strong> <span id="userWalletBalance"></span></p>
    </div>
  </div>

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js";
    import { getAuth } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-auth.js";
    import { getFirestore, doc, getDoc } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore.js";

    // Firebase configuration
    const firebaseConfig = {
  apiKey: "AIzaSyBOxfzPjRsFppx6pb4GHk4oXPWVYBcUYFI",
  authDomain: "parkingsystem-ba6c9.firebaseapp.com",
  projectId: "parkingsystem-ba6c9",
  storageBucket: "parkingsystem-ba6c9.firebasestorage.app",
  messagingSenderId: "66941381544",
  appId: "1:66941381544:web:d3fc5ad960d0d97eb54b9d"
};

    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const db = getFirestore(app);

    // Load user profile
    async function loadUserProfile() {
      const user = auth.currentUser;
      if (user) {
        const userDoc = await getDoc(doc(db, "Users", user.uid));
        if (userDoc.exists()) {
          const userData = userDoc.data();
          document.getElementById("userName").textContent = userData.Name;
          document.getElementById("userContact").textContent = userData.Contact;
          document.getElementById("userCarNumber").textContent = userData.CarNumber;
          document.getElementById("userWalletBalance").textContent = userData.WalletBalance;
        }
      }
    }

    // Load profile when the page loads
    window.onload = loadUserProfile;
  </script>
</body>
</html>